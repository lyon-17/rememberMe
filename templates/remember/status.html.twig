{% extends 'base.html.twig' %}
{% block body %}
{% if log is defined %}
    <p class="log">{{log}}</p>
{% endif %}
{% if status is defined %}
    <h3>Status list</h3>
    <table class="table table-striped table-dark">
        <thead>
            <tr>
                <th>name</th>
                <th>Priority</th>
                <th colspan="2">Options</th>
            </tr>
        </thead>
        <tbody>
    {% for state in status %}
        {% if editState is defined and editState == state %}
            {{ include('remember/editState.html.twig') }}
        {% else %}
        <tr>
            <td>{{state.name}}</td>
            <td>{{state.priority}}</td>
            <td><a href="/status/edState/{{state.id}}">edit</td>
            <td><a href="/status/delState/{{state.id}}">delete</td>
        </tr>
        {% endif %}
    {% endfor %}
    {% if addForm is defined %}
        <tr>
        {{ form_start(addForm) }}
            <td>{{ form_row(addForm.name) }}</td>
            <td>{{ form_row(addForm.priority) }}</td>
            <td colspan="2">{{ form_row(addForm.add) }}</td>
        {{ form_rest(addForm) }}
        </tr>
    {% endif %}
        </tbody>
    </table>
{% else %}
<p>No status found</p>
{% endif %}
{% if addForm is not defined %}
    <button id="create_state"><a href="status/addState">New state</a></button>
{% else %}
<a class="pageLink" href="/status">Return</a>
{% endif %}
<a class="pageLink" href="/">Go to main</a>
{% endblock %}